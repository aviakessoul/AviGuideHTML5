<!DOCTYPE html>
<html>
<head>    
    <title></title>
    <style>
        #divRegularBehaviour1
        {
            width:100px;
            height:100px;
            background-color:yellow;            
        }
        #divRegularBehaviour2
        {
            width:50px;
            height:50px;
            background-color:green;
            display:none;
        }
    </style>
    <script src="Scripts/jquery-1.8.1.js" type="text/javascript"></script>
    <script>
    $(document).ready(function(){
        function closeDiv() {
            var dfd = $.Deferred();
            $('#divRegularBehaviour1').fadeOut(5000, dfd.resolve);
            return dfd.promise();        
        }

        function showDiv() {
            var dfd = $.Deferred();
            $('#divRegularBehaviour2').fadeIn(5000, dfd.resolve);
            return dfd.promise();
        }

        $.when(closeDiv(), showDiv())
        .then(function (ajaxResult) {
            alert('finished closing and opening divs');
        });
    })
    </script>
</head>
<body>
    <div id="divRegularBehaviour1" >
    </div>
    <div id="divRegularBehaviour2">            
    </div>
</body>
</html>
